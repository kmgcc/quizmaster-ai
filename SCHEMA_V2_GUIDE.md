# QuizMaster AI - Schema V2 ä½¿ç”¨æŒ‡å—

## ğŸ“‹ Schema V2 æ–°ç‰¹æ€§

Schema V2 åœ¨ä¿æŒå‘åå…¼å®¹ V1 çš„åŸºç¡€ä¸Šï¼Œæ–°å¢äº†å¯¹ **Markdown æ ¼å¼é¢˜å¹²** çš„æ”¯æŒï¼Œè®©é¢˜ç›®å†…å®¹æ›´åŠ ç¾è§‚æ˜“è¯»ã€‚

## ğŸ¨ æ”¯æŒçš„ Markdown è¯­æ³•

### 1. è¡Œå†…ä»£ç  (Inline Code)

ä½¿ç”¨å•ä¸ªåå¼•å·åŒ…è£¹ä»£ç ï¼š

```json
{
  "content": "åœ¨ JavaScript ä¸­ï¼Œ`const` å’Œ `let` çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"
}
```

**æ•ˆæœ**ï¼šä»£ç ä¼šæ˜¾ç¤ºä¸ºé»„è‰²èƒŒæ™¯çš„ä»£ç ç‰‡æ®µ

### 2. ä»£ç å— (Code Block)

ä½¿ç”¨ä¸‰ä¸ªåå¼•å·åŒ…è£¹å¤šè¡Œä»£ç ï¼Œå¯é€‰æŒ‡å®šè¯­è¨€ï¼š

```json
{
  "content": "ä»¥ä¸‹ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ\n\n```javascript\nconst arr = [1, 2, 3];\nconsole.log(arr.map(x => x * 2));\n```"
}
```

**æ”¯æŒçš„è¯­è¨€æ ‡è¯†**ï¼š
- `javascript` / `js`
- `python` / `py`
- `java`
- `cpp` / `c++`
- `go`
- `rust`
- `typescript` / `ts`
- ç­‰ç­‰...

**æ•ˆæœ**ï¼š
- VS Code é£æ ¼çš„æ·±è‰²ä»£ç ç¼–è¾‘å™¨
- è¯­æ³•é«˜äº®ï¼ˆå…³é”®å­—ã€å­—ç¬¦ä¸²ã€æ³¨é‡Šã€æ•°å­—ã€å‡½æ•°åï¼‰
- macOS é£æ ¼çš„çª—å£è£…é¥°ï¼ˆçº¢é»„ç»¿ä¸‰ä¸ªåœ†ç‚¹ï¼‰

### 3. åŠ ç²—æ–‡æœ¬ (Bold)

ä½¿ç”¨åŒæ˜Ÿå·åŒ…è£¹æ–‡æœ¬ï¼š

```json
{
  "content": "ä»¥ä¸‹å“ªä¸ªæ˜¯ **æ­£ç¡®** çš„åšæ³•ï¼Ÿ"
}
```

**æ•ˆæœ**ï¼šæ–‡æœ¬ä¼šæ˜¾ç¤ºä¸ºç²—ä½“

## ğŸ“ å®Œæ•´ç¤ºä¾‹

### å•é€‰é¢˜ç¤ºä¾‹

```json
{
  "id": "q1",
  "type": "single_choice",
  "content": "åœ¨ JavaScript ä¸­ï¼Œä»¥ä¸‹å“ªä¸ªæ–¹æ³•ç”¨äº**æ•°ç»„å»é‡**ï¼Ÿ\n\n```javascript\nconst arr = [1, 2, 2, 3, 4, 4, 5];\n// æˆ‘ä»¬éœ€è¦å¾—åˆ° [1, 2, 3, 4, 5]\n```\n\nè¯·é€‰æ‹©æœ€ç®€æ´çš„æ–¹æ³•ï¼š",
  "options": [
    {
      "key": "A",
      "text": "Array.from(new Set(arr))"
    },
    {
      "key": "B",
      "text": "arr.filter((item, index) => arr.indexOf(item) === index)"
    },
    {
      "key": "C",
      "text": "arr.reduce((acc, item) => acc.includes(item) ? acc : [...acc, item], [])"
    },
    {
      "key": "D",
      "text": "ä½¿ç”¨ lodash çš„ _.uniq(arr)"
    }
  ],
  "answer": {
    "correct_option_key": "A"
  },
  "explanation": "ä½¿ç”¨ `Set` æ•°æ®ç»“æ„æ˜¯æœ€ç®€æ´çš„æ•°ç»„å»é‡æ–¹æ³•ã€‚Set ä¼šè‡ªåŠ¨å»é™¤é‡å¤å€¼ï¼Œç„¶åä½¿ç”¨ `Array.from()` æˆ–æ‰©å±•è¿ç®—ç¬¦è½¬å›æ•°ç»„ã€‚",
  "tags": ["JavaScript", "æ•°ç»„", "ES6"]
}
```

### å¡«ç©ºé¢˜ç¤ºä¾‹

```json
{
  "id": "q2",
  "type": "fill_blank",
  "content": "åœ¨ Python ä¸­ï¼Œä½¿ç”¨ `with` è¯­å¥æ‰“å¼€æ–‡ä»¶çš„å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ\n\n```python\nwith open('file.txt', 'r') as f:\n    content = f.read()\n# æ–‡ä»¶ä¼šè‡ªåŠ¨______\n```",
  "answer": {
    "expected_answers": ["å…³é—­", "close", "closed"],
    "llm_grading": false
  },
  "explanation": "`with` è¯­å¥ä¼šåœ¨ä»£ç å—æ‰§è¡Œå®Œæ¯•å**è‡ªåŠ¨å…³é—­**æ–‡ä»¶ï¼Œå³ä½¿å‘ç”Ÿå¼‚å¸¸ä¹Ÿèƒ½ç¡®ä¿èµ„æºè¢«æ­£ç¡®é‡Šæ”¾ã€‚",
  "tags": ["Python", "æ–‡ä»¶æ“ä½œ", "ä¸Šä¸‹æ–‡ç®¡ç†å™¨"]
}
```

### å¤šé€‰é¢˜ç¤ºä¾‹

```json
{
  "id": "q3",
  "type": "multiple_choice",
  "content": "å…³äº Git çš„ `rebase` å‘½ä»¤ï¼Œä»¥ä¸‹è¯´æ³•**æ­£ç¡®**çš„æœ‰ï¼š\n\n```bash\ngit rebase main\n```",
  "options": [
    {
      "key": "A",
      "text": "ä¼šæ”¹å˜æäº¤å†å²"
    },
    {
      "key": "B",
      "text": "å¯ä»¥ä½¿æäº¤å†å²æ›´åŠ çº¿æ€§"
    },
    {
      "key": "C",
      "text": "é€‚åˆåœ¨å…¬å…±åˆ†æ”¯ä¸Šä½¿ç”¨"
    },
    {
      "key": "D",
      "text": "å¯èƒ½éœ€è¦è§£å†³å†²çª"
    }
  ],
  "answer": {
    "correct_option_keys": ["A", "B", "D"]
  },
  "explanation": "`rebase` ä¼šæ”¹å˜æäº¤å†å²ï¼Œä½¿å…¶æ›´åŠ çº¿æ€§ï¼Œä½†**ä¸é€‚åˆ**åœ¨å…¬å…±åˆ†æ”¯ä¸Šä½¿ç”¨ï¼Œå› ä¸ºä¼šå¯¼è‡´å…¶ä»–äººçš„å†å²æ··ä¹±ã€‚",
  "tags": ["Git", "ç‰ˆæœ¬æ§åˆ¶"]
}
```

## ğŸ¯ è¯­æ³•é«˜äº®æ”¯æŒçš„å…³é”®å­—

ä»£ç å—ä¼šè‡ªåŠ¨é«˜äº®ä»¥ä¸‹å†…å®¹ï¼š

### å…³é”®å­—ï¼ˆè“è‰²ï¼‰
- JavaScript: `const`, `let`, `var`, `function`, `return`, `if`, `else`, `for`, `while`, `class`, `import`, `export`, `async`, `await`, `try`, `catch`
- Python: `def`, `print`, `True`, `False`, `None`, `and`, `or`, `not`, `in`, `is`
- é€šç”¨: `public`, `private`, `protected`, `static`, `void`, `int`, `string`, `boolean`

### å­—ç¬¦ä¸²ï¼ˆæ©™è‰²ï¼‰
- åŒå¼•å·: `"string"`
- å•å¼•å·: `'string'`
- åå¼•å·: `` `template` ``

### æ³¨é‡Šï¼ˆç»¿è‰²ï¼‰
- JavaScript: `// comment`
- Python: `# comment`

### æ•°å­—ï¼ˆæµ…ç»¿è‰²ï¼‰
- æ•´æ•°å’Œæµ®ç‚¹æ•°: `123`, `45.67`

### å‡½æ•°åï¼ˆé»„è‰²ï¼‰
- å‡½æ•°è°ƒç”¨: `functionName()`

## ğŸ“¦ Schema V2 å®Œæ•´ç»“æ„

```json
{
  "schema_version": "2.0",
  "id": "unique-bank-id",
  "title": "é¢˜åº“æ ‡é¢˜",
  "description": "é¢˜åº“æè¿°ï¼ˆå¯é€‰ï¼‰",
  "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"],
  "questions": [
    {
      "id": "question-id",
      "type": "single_choice | multiple_choice | true_false | fill_blank",
      "content": "é¢˜å¹²å†…å®¹ï¼ˆæ”¯æŒ Markdownï¼‰",
      "options": [...],  // ä»…é€‰æ‹©é¢˜éœ€è¦
      "answer": {
        "correct_option_key": "A",           // å•é€‰é¢˜
        "correct_option_keys": ["A", "B"],   // å¤šé€‰é¢˜
        "correct_boolean": true,             // åˆ¤æ–­é¢˜
        "expected_answers": ["ç­”æ¡ˆ1"],       // å¡«ç©ºé¢˜
        "llm_grading": false                 // æ˜¯å¦ä½¿ç”¨ AI è¯„åˆ†
      },
      "explanation": "è§£æï¼ˆæ”¯æŒ Markdownï¼‰",
      "tags": ["æ ‡ç­¾"]
    }
  ],
  "created_at": 1704441600000
}
```

## ğŸ”„ ä» V1 å‡çº§åˆ° V2

V2 å®Œå…¨å…¼å®¹ V1ï¼Œåªéœ€ï¼š

1. å°† `schema_version` ä» `"1.0"` æˆ– `"qb.v1"` æ”¹ä¸º `"2.0"` æˆ– `"qb.v2"`
2. åœ¨é¢˜å¹²ä¸­ä½¿ç”¨ Markdown è¯­æ³•
3. æ— éœ€ä¿®æ”¹å…¶ä»–å­—æ®µ

## ğŸ’¡ æœ€ä½³å®è·µ

1. **ä»£ç å—**ï¼šå§‹ç»ˆæŒ‡å®šè¯­è¨€æ ‡è¯†ï¼Œä»¥è·å¾—æ›´å¥½çš„è¯­æ³•é«˜äº®
2. **æ¢è¡Œ**ï¼šä½¿ç”¨ `\n\n` åˆ›å»ºæ®µè½é—´è·
3. **è¡Œå†…ä»£ç **ï¼šç”¨äºå˜é‡åã€å‡½æ•°åã€å…³é”®å­—ç­‰
4. **åŠ ç²—**ï¼šç”¨äºå¼ºè°ƒé‡ç‚¹å†…å®¹
5. **è§£æ**ï¼šä¹Ÿå¯ä»¥ä½¿ç”¨ Markdown æ ¼å¼ï¼Œè®©è§£é‡Šæ›´æ¸…æ™°

## ğŸ¨ æ¸²æŸ“æ•ˆæœå¯¹æ¯”

### V1 æ ¼å¼ï¼ˆçº¯æ–‡æœ¬ï¼‰
```
åœ¨ JavaScript ä¸­ï¼Œconst å’Œ let çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
```

### V2 æ ¼å¼ï¼ˆMarkdownï¼‰
```
åœ¨ JavaScript ä¸­ï¼Œ`const` å’Œ `let` çš„**åŒºåˆ«**æ˜¯ä»€ä¹ˆï¼Ÿ
```

V2 æ ¼å¼ä¼šè®©ä»£ç å’Œé‡ç‚¹æ›´åŠ çªå‡ºï¼Œæå‡é˜…è¯»ä½“éªŒï¼

## ğŸ“š å‚è€ƒç¤ºä¾‹

å®Œæ•´çš„ç¤ºä¾‹æ–‡ä»¶è¯·æŸ¥çœ‹ï¼š`schema-v2-example.json`

